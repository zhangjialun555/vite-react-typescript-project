@tailwind base;
@tailwind components;
@tailwind utilities;

/* 基础样式 */
@layer base {
  html {
    scroll-behavior: smooth;
  }
  
  body {
    @apply bg-white dark:bg-gray-900 text-gray-900 dark:text-white transition-colors duration-300;
  }
}

/* 组件样式 */
@layer components {
  /* 导航栏样式 */
  .navbar {
    @apply bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 shadow-sm;
  }
  
  .navbar-top {
    @apply sticky top-0 z-50;
  }
  
  .navbar-side {
    @apply w-64 h-screen fixed left-0 top-0 border-r border-gray-200 dark:border-gray-700 flex flex-col;
  }
  
  .navbar-container {
    @apply flex items-center justify-between px-6 py-4 min-w-0 flex-nowrap;
  }

  .navbar-side .navbar-container {
    @apply flex-col items-stretch justify-start h-full space-y-4;
  }
  
  .navbar-brand {
    @apply flex-shrink-0;
  }

  .navbar-side .navbar-brand {
    @apply w-full;
  }
  
  .navbar-logo {
    @apply flex items-center space-x-2 text-xl font-bold text-gray-900 dark:text-white hover:text-gray-700 dark:hover:text-gray-300 transition-colors duration-200;
  }

  .navbar-side .navbar-logo {
    @apply w-full justify-center py-2;
  }

  .logo-icon {
    @apply text-2xl;
  }

  .logo-text {
    @apply hidden sm:block;
  }

  .navbar-menu-container {
    @apply relative flex-1 min-w-0 max-w-[calc(100vw-20rem)];
    overflow: visible;
  }

  .navbar-menu {
    @apply flex items-center space-x-6 scrollbar-hide scroll-smooth flex-nowrap whitespace-nowrap min-w-max;
    overflow-x: auto;
    overflow-y: visible;
  }

  /* Ant Design Menu 样式优化 */
  .ant-menu-horizontal {
    @apply border-none bg-transparent;
  }

  .ant-menu-horizontal > .ant-menu-item,
  .ant-menu-horizontal > .ant-menu-submenu {
    @apply border-none;
  }

  .ant-menu-inline {
    @apply border-none bg-transparent;
  }

  .ant-menu-inline .ant-menu-item,
  .ant-menu-inline .ant-menu-submenu {
    @apply border-none;
  }

  .navbar-side .navbar-menu {
    @apply flex-col items-stretch space-x-0 space-y-1 flex-1 overflow-y-auto overflow-x-hidden;
  }
  
  /* 菜单项样式 */
  .menu-item {
    @apply relative flex-shrink-0 whitespace-nowrap;
    position: relative;
  }

  .navbar-top .menu-item {
    position: relative !important;
  }

  .navbar-top .menu-item-content {
    position: relative !important;
  }
  
  .menu-item-content {
    @apply flex items-center;
  }
  
  .menu-button {
    @apply flex items-center space-x-3 px-4 py-3 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-all duration-200 w-full text-left whitespace-nowrap flex-shrink-0;
  }

  .menu-button:hover {
    @apply transform scale-105 shadow-md;
  }

  .menu-button.active {
    @apply text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20;
  }

  .menu-button.expanded {
    @apply text-blue-600 dark:text-blue-400;
  }
  
  .menu-arrow {
    @apply text-xs transition-transform duration-200;
  }
  
  .menu-arrow.expanded {
    @apply transform rotate-180;
  }

  .menu-icon {
    @apply text-lg flex-shrink-0;
  }
  
  .nav-link {
    @apply flex items-center space-x-3 px-4 py-3 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-all duration-200 w-full whitespace-nowrap flex-shrink-0;
  }

  .nav-link:hover {
    @apply transform scale-105 shadow-md;
  }

  .nav-link.active {
    @apply text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20;
  }

  .navbar-side .nav-link {
    @apply justify-start;
  }
  
  /* 子菜单样式 */
  .submenu {
    position: absolute !important;
    top: 100% !important;
    left: 0 !important;
    margin-top: 0.25rem !important;
    background-color: rgb(255 255 255) !important;
    border: 1px solid rgb(229 231 235) !important;
    border-radius: 0.5rem !important;
    box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1) !important;
    padding: 0.5rem 0 !important;
    min-width: 12rem !important;
    z-index: 9999 !important;
    display: block !important;
  }

  .navbar-top .submenu {
    position: absolute !important;
    top: 100% !important;
    left: 0 !important;
    margin-top: 0.25rem !important;
    background-color: rgb(255 255 255) !important;
    border: 1px solid rgb(229 231 235) !important;
    border-radius: 0.5rem !important;
    box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1) !important;
    padding: 0.5rem 0 !important;
    min-width: 12rem !important;
    z-index: 99999 !important;
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
  }

  .submenu:is(.dark *) {
    background-color: rgb(31 41 55) !important;
    border-color: rgb(55 65 81) !important;
  }

  .navbar-side .submenu {
    position: static !important;
    margin-top: 0.25rem !important;
    margin-left: 1rem !important;
    background-color: transparent !important;
    border: none !important;
    box-shadow: none !important;
    padding: 0 !important;
    min-width: auto !important;
    z-index: auto !important;
    border-left: 2px solid rgb(229 231 235) !important;
    padding-left: 0.5rem !important;
  }

  .dark .navbar-side .submenu {
    border-left-color: rgb(55 65 81) !important;
  }

  /* 子菜单项样式 */
  .submenu-item {
    transition: background-color 0.2s;
  }

  .submenu-item:hover {
    background-color: #f3f4f6;
  }

  .dark .submenu-item:hover {
    background-color: #374151;
  }


  
  .menu-item.level-0 .submenu {
    @apply left-0;
  }
  
  .menu-item.level-1 .submenu {
    @apply left-full top-0 ml-1;
  }

  .navbar-side .menu-item.level-1 .submenu {
    margin-left: 1rem !important;
    margin-top: 0.25rem !important;
  }
  
  .menu-item.level-2 .submenu {
    @apply left-full top-0 ml-1;
  }

  .navbar-side .menu-item.level-2 .submenu {
    margin-left: 2rem !important;
    margin-top: 0.25rem !important;
  }
  
  /* 滚动按钮样式 */
  .scroll-button {
    @apply absolute top-1/2 -translate-y-1/2 z-10 w-8 h-8 rounded-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400 flex items-center justify-center cursor-pointer transition-all duration-200 shadow-md opacity-0 pointer-events-none;
  }

  .scroll-button:hover {
    @apply bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white -translate-y-1/2 scale-110 shadow-lg;
  }

  .scroll-button.visible {
    @apply opacity-100 pointer-events-auto;
  }

  .scroll-left {
    @apply left-2;
  }

  .scroll-right {
    @apply right-2;
  }
  
  /* 控制按钮样式 */
  .navbar-controls {
    @apply flex items-center space-x-6 flex-shrink-0;
  }

  .navbar-side .navbar-controls {
    @apply flex-col items-stretch space-x-0 space-y-2 w-full;
  }
  
  .control-button {
    @apply flex items-center space-x-2 p-3 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 rounded-lg;
  }

  .control-button:hover {
    @apply transform scale-105 shadow-md;
  }

  .navbar-side .control-button {
    @apply w-full justify-center;
  }

  .control-text {
    @apply text-sm font-medium;
  }

  .navbar-side .control-text {
    @apply hidden;
  }

  /* 页面容器样式 */
  .page-container {
    @apply min-h-screen bg-gray-50 dark:bg-gray-900;
  }

  .navbar-side + .page-container {
    @apply ml-64;
  }
  
  .content-area {
    @apply mx-auto max-w-7xl px-4 py-8;
  }

  .navbar-side + .page-container .content-area {
    @apply max-w-6xl;
  }
  
  /* 卡片样式 */
  .card {
    @apply rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-md;
  }
  
  .card-header {
    @apply border-b border-gray-200 dark:border-gray-700 px-6 py-4;
  }
  
  .card-title {
    @apply text-lg font-semibold text-gray-900 dark:text-white;
  }
  
  .card-body {
    @apply px-6 py-4;
  }
  
  .card-footer {
    @apply border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 px-6 py-4;
  }
  
  .card-hover {
    @apply transition-shadow duration-300;
  }
  
  .card-hover:hover {
    @apply shadow-lg;
  }
  
  /* 按钮样式 */
  .btn-primary {
    @apply rounded-lg bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 px-4 py-2 font-medium text-white transition-colors duration-200;
  }
  
  .btn-secondary {
    @apply rounded-lg bg-gray-600 hover:bg-gray-700 dark:bg-gray-500 dark:hover:bg-gray-600 px-4 py-2 font-medium text-white transition-colors duration-200;
  }
  
  .btn-success {
    @apply rounded-lg bg-green-600 hover:bg-green-700 dark:bg-green-500 dark:hover:bg-green-600 px-4 py-2 font-medium text-white transition-colors duration-200;
  }
  
  .btn-danger {
    @apply rounded-lg bg-red-600 hover:bg-red-700 dark:bg-red-500 dark:hover:bg-red-600 px-4 py-2 font-medium text-white transition-colors duration-200;
  }
  
  .btn-warning {
    @apply rounded-lg bg-yellow-600 hover:bg-yellow-700 dark:bg-yellow-500 dark:hover:bg-yellow-600 px-4 py-2 font-medium text-white transition-colors duration-200;
  }
  
  .btn-outline {
    @apply rounded-lg border border-gray-300 dark:border-gray-600 px-4 py-2 font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200;
  }
  
  .btn-sm {
    @apply px-3 py-1.5 text-sm;
  }
  
  .btn-lg {
    @apply px-6 py-3 text-lg;
  }
  
  /* 表单样式 */
  .form-group {
    @apply mb-4;
  }
  
  .form-label {
    @apply block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2;
  }
  
  .form-input {
    @apply w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2 text-gray-900 dark:text-white transition-colors duration-200;
  }
  
  .form-textarea {
    @apply w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2 text-gray-900 dark:text-white transition-colors duration-200;
  }
  
  .form-select {
    @apply w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2 text-gray-900 dark:text-white transition-colors duration-200;
  }
  
  .form-help {
    @apply mt-1 text-sm text-gray-500 dark:text-gray-400;
  }
  
  /* 状态样式 */
  .status-success {
    @apply rounded-lg border border-green-200 dark:border-green-700 bg-green-50 dark:bg-green-900/20 p-4 text-green-800 dark:text-green-200;
  }
  
  .status-error {
    @apply rounded-lg border border-red-200 dark:border-red-700 bg-red-50 dark:bg-red-900/20 p-4 text-red-800 dark:text-red-200;
  }
  
  .status-warning {
    @apply rounded-lg border border-yellow-200 dark:border-yellow-700 bg-yellow-50 dark:bg-yellow-900/20 p-4 text-yellow-800 dark:text-yellow-200;
  }
  
  .status-info {
    @apply rounded-lg border border-blue-200 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20 p-4 text-blue-800 dark:text-blue-200;
  }
  
  /* 布局工具类 */
  .flex-between {
    @apply flex items-center justify-between;
  }
  
  .grid-responsive {
    @apply grid grid-cols-1 gap-6;
  }
  
  @media (min-width: 768px) {
    .grid-responsive {
      @apply grid-cols-2;
    }
  }
  
  @media (min-width: 1024px) {
    .grid-responsive {
      @apply grid-cols-3;
    }
  }
  
  /* 间距工具类 */
  .space-y-2 > * + * {
    @apply mt-2;
  }
  
  .space-y-4 > * + * {
    @apply mt-4;
  }
  
  .space-y-6 > * + * {
    @apply mt-6;
  }
  
  .space-y-8 > * + * {
    @apply mt-8;
  }
  
  .space-x-2 > * + * {
    @apply ml-2;
  }
  
  .space-x-4 > * + * {
    @apply ml-4;
  }
}

/* 工具类 */
@layer utilities {
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}
